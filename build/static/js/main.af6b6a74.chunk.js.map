{"version":3,"sources":["firebase/config.js","context/AuthContext.js","hooks/useAuthContext.js","hooks/useCollection.js","components/Avatar.js","components/ProjectList.js","pages/dashboard/ProjectFilter.js","pages/dashboard/Dashboard.js","pages/login/Login.js","hooks/useLogin.js","hooks/useDocument.js","hooks/useFirestore.js","pages/project/ProjectSummary.js","pages/project/ProjectComments.js","pages/project/Project.js","pages/signup/Signup.js","hooks/useSignup.js","pages/create/Create.js","hooks/useLogout.js","assets/ms-icon-144x144.png","components/Navbar.js","assets/dashboard_icon.svg","assets/add_icon.svg","components/Sidebar.js","components/OnlineUsers.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","projectFirestore","firestore","projectAuth","auth","projectStorage","storage","timestamp","Timestamp","AuthContext","createContext","authReducer","state","action","type","user","payload","authIsReady","AuthContextProvider","children","useReducer","dispatch","useEffect","unsub","onAuthStateChanged","console","log","Provider","value","useAuthContext","context","useContext","Error","useCollection","collection","_query","_orderBy","useState","documents","setDocuments","error","setError","query","useRef","current","orderBy","ref","where","unsubscribe","onSnapshot","snapshot","results","docs","forEach","doc","push","data","id","Avatar","src","className","alt","ProjectList","projects","length","map","project","to","name","dueDate","toDate","toDateString","assignedUsersList","photoURL","filterList","ProjectFilter","currentFilter","changeFilter","f","onClick","Dashboard","setCurrentFilter","filteredProjects","filter","document","assignedToMe","u","uid","category","newFilter","Login","email","setEmail","password","setPassword","isCancelled","setIsCancelled","isPending","setIsPending","login","a","signInWithEmailAndPassword","res","update","online","message","useLogin","onSubmit","e","preventDefault","required","onChange","target","disabled","initialState","success","firestoreReducer","useFirestore","response","dispatchIfNotCancelled","addDocument","createdAt","fromDate","Date","add","addedDocument","deleteDocument","delete","updateDocument","updates","ProjectSummary","navigate","useNavigate","createdBy","displayName","details","ProjectComments","newComment","setNewComment","handleSubmit","commentToAdd","content","Math","random","comments","comment","formatDistanceToNow","addSuffix","Project","setDocument","err","useDocument","useParams","Signup","setDisplayName","thumbnail","setThumbnail","thumbnailError","setThumbnailError","signup","createUserWithEmailAndPassword","uploadPath","put","img","getDownloadURL","imgUrl","updateProfile","set","useSignup","selected","files","includes","size","categories","label","Create","users","setUsers","setName","setDetails","setDueDate","setCategory","assignedUsers","setAssignedUsers","formError","setFormError","options","option","isMulti","Navbar","logout","signOut","useLogout","House","Sidebar","exact","DashboardIcon","AddIcon","OnlineUsers","App","path","element","ReactDOM","render","StrictMode","getElementById"],"mappings":"mdAiBAA,IAASC,cAVc,CACrBC,OAAQ,0CACRC,WAAY,oCACZC,UAAW,oBACXC,cAAe,gCACfC,kBAAmB,eACnBC,MAAO,8CAOT,IAAMC,EAAmBR,IAASS,YAC5BC,EAAcV,IAASW,OACvBC,EAAiBZ,IAASa,UAG1BC,EAAYd,IAASS,UAAUM,U,OCrBxBC,EAAcC,0BAEdC,EAAc,SAACC,EAAOC,GACjC,OAAQA,EAAOC,MACb,IAAK,QACH,OAAO,2BAAKF,GAAZ,IAAmBG,KAAMF,EAAOG,UAClC,IAAK,SACH,OAAO,2BAAKJ,GAAZ,IAAmBG,KAAM,OAC3B,IAAK,gBACH,MAAO,CAAEA,KAAMF,EAAOG,QAASC,aAAa,GAC9C,QACE,OAAOL,IAKAM,EAAsB,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACpC,EAA0BC,qBAAWT,EAAa,CAChDI,KAAM,KACNE,aAAa,IAFf,mBAAOL,EAAP,KAAcS,EAAd,KAcA,OATAC,qBAAU,WACR,IAAMC,EAAQpB,EAAYqB,oBAAmB,SAACT,GAC5CM,EAAS,CAAEP,KAAM,gBAAiBE,QAASD,IAC3CQ,SAED,IAEHE,QAAQC,IAAI,qBAAsBd,GAGhC,cAACH,EAAYkB,SAAb,CAAsBC,MAAK,2BAAOhB,GAAP,IAAcS,aAAzC,SACGF,KClCMU,EAAiB,WAC5B,IAAMC,EAAUC,qBAAWtB,GAE3B,IAAIqB,EACF,MAAME,MAAM,6DAGd,OAAOF,G,gBCPIG,EAAgB,SAACC,EAAYC,EAAQC,GAChD,MAAkCC,mBAAS,MAA3C,mBAAOC,EAAP,KAAkBC,EAAlB,KACA,EAA0BF,mBAAS,MAAnC,mBAAOG,EAAP,KAAcC,EAAd,KAIMC,EAAQC,iBAAOR,GAAQS,QACvBC,EAAUF,iBAAOP,GAAUQ,QA+BjC,OA7BAtB,qBAAU,WACR,IAEW,EAGE,EALTwB,EAAM7C,EAAiBiC,WAAWA,GAElCQ,IACFI,GAAM,EAAAA,GAAIC,MAAJ,oBAAaL,KAEjBG,IACFC,GAAM,EAAAA,GAAID,QAAJ,oBAAeA,KAGvB,IAAMG,EAAcF,EAAIG,YAAW,SAAAC,GACjC,IAAIC,EAAU,GACdD,EAASE,KAAKC,SAAQ,SAAAC,GACpBH,EAAQI,KAAR,2BAAiBD,EAAIE,QAArB,IAA6BC,GAAIH,EAAIG,SAIvClB,EAAaY,GACbV,EAAS,SACR,SAAAD,GACDf,QAAQC,IAAIc,GACZC,EAAS,+BAIX,OAAO,kBAAMO,OAEZ,CAACd,EAAYQ,EAAOG,IAEhB,CAAEP,YAAWE,U,MCrCP,SAASkB,EAAT,GAA0B,IAARC,EAAO,EAAPA,IAC/B,OACE,qBAAKC,UAAU,SAAf,SACE,qBAAKD,IAAKA,EAAKE,IAAI,kB,MCDV,SAASC,EAAT,GAAoC,IAAbC,EAAY,EAAZA,SAClC,OACI,sBAAKH,UAAU,eAAf,UACyB,IAApBG,EAASC,QAAgB,iDACzBD,EAASE,KAAI,SAAAC,GAAO,OACjB,eAAC,IAAD,CAAMC,GAAE,oBAAeD,EAAQT,IAA/B,UACI,6BAAKS,EAAQE,OACb,wCAAWF,EAAQG,QAAQC,SAASC,kBACpC,qBAAKX,UAAU,cAAf,SACI,6BACKM,EAAQM,kBAAkBP,KAAI,SAAAlD,GAAI,OAC/B,6BACI,cAAC,EAAD,CAAQ4C,IAAK5C,EAAK0D,YADb1D,EAAK0D,mBANYP,EAAQT,UCXlE,IAAMiB,EAAa,CAAC,MAAO,OAAQ,OAAQ,SAAU,SAAU,WAEhD,SAASC,EAAT,GAAyD,IAAhCC,EAA+B,EAA/BA,cAAeC,EAAgB,EAAhBA,aAKnD,OACI,qBAAKjB,UAAU,iBAAf,SACI,gCACI,2CACCc,EAAWT,KAAI,SAACa,GAAD,OACZ,wBACIC,QAAS,WATzBF,EAS2CC,IAC3BlB,UAAWgB,IAAkBE,EAAI,SAAW,GAFhD,SAGKA,GAHQA,W,MCHlB,SAASE,IACpB,IAAQjE,EAASc,IAATd,KACR,EAA6BkB,EAAc,YAAnCK,EAAR,EAAQA,UAAWE,EAAnB,EAAmBA,MACnB,EAA0CH,mBAAS,OAAnD,mBAAOuC,EAAP,KAAsBK,EAAtB,KAMMC,EAAmB5C,EAAYA,EAAU6C,QAAO,SAACC,GACnD,OAAQR,GACJ,IAAK,MACD,OAAO,EACX,IAAK,OACD,IAAIS,GAAe,EAMnB,OALAD,EAASZ,kBAAkBnB,SAAQ,SAACiC,GAC5BvE,EAAKwE,MAAQD,EAAE7B,KACf4B,GAAe,MAGhBA,EACX,IAAK,OACL,IAAK,SACL,IAAK,SACL,IAAK,UACD,OAAOD,EAASI,WAAaZ,EACjC,QACI,OAAO,MAEd,KAEL,OACI,gCACI,oBAAIhB,UAAU,aAAd,uBACCpB,GAAS,mBAAGoB,UAAU,QAAb,SAAsBpB,IAC/BF,GACG,cAACqC,EAAD,CAAeC,cAAeA,EAAeC,aA/BpC,SAACY,GAClBR,EAAiBQ,MAgCZP,GAAoB,cAAC,EAAD,CAAanB,SAAUmB,O,kCCzCzC,SAASQ,IAEtB,MAA0BrD,mBAAS,IAAnC,mBAAOsD,EAAP,KAAcC,EAAd,KACA,EAAgCvD,mBAAS,IAAzC,mBAAOwD,EAAP,KAAiBC,EAAjB,KAEA,ECPsB,WACtB,MAAsCzD,oBAAS,GAA/C,mBAAO0D,EAAP,KAAoBC,EAApB,KACA,EAA0B3D,mBAAS,MAAnC,mBAAOG,EAAP,KAAcC,EAAd,KACA,EAAkCJ,oBAAS,GAA3C,mBAAO4D,EAAP,KAAkBC,EAAlB,KACQ7E,EAAaQ,IAAbR,SAEF8E,EAAK,uCAAG,WAAOR,EAAOE,GAAd,eAAAO,EAAA,6DACZ3D,EAAS,MACTyD,GAAa,GAFD,kBAMQ/F,EAAYkG,2BAA2BV,EAAOE,GANtD,cAMJS,EANI,gBASJrG,EAAiBiC,WAAW,SAASoB,IAAIgD,EAAIvF,KAAKwE,KAAKgB,OAAO,CAAEC,QAAQ,IATpE,OAYVnF,EAAS,CAAEP,KAAM,QAASE,QAASsF,EAAIvF,OAElCgF,IACHG,GAAa,GACbzD,EAAS,OAhBD,kDAoBLsD,IACHtD,EAAS,KAAIgE,SACbP,GAAa,IAtBL,0DAAH,wDA+BX,OAJA5E,qBAAU,WACR,OAAO,kBAAM0E,GAAe,MAC3B,IAEI,CAAEG,QAAOF,YAAWzD,SD9BSkE,GAA5BP,EAAR,EAAQA,MAAOF,EAAf,EAAeA,UAAWzD,EAA1B,EAA0BA,MAQ1B,OAEE,cADA,CACA,QAAMoB,UAAU,YAAY+C,SART,SAACC,GAEpBA,EAAEC,iBACFV,EAAMR,EAAOE,IAKb,UACE,uCACA,kCACE,0CACA,uBACEiB,UAAQ,EACRhG,KAAK,QAELiG,SAAU,SAACH,GAAD,OAAOhB,EAASgB,EAAEI,OAAOpF,QAGnCA,MAAO+D,OAGX,kCACE,6CACA,uBACEmB,UAAQ,EACRhG,KAAK,WACLiG,SAAU,SAACH,GAAD,OAAOd,EAAYc,EAAEI,OAAOpF,QACtCA,MAAOiE,QAGTI,GAAa,wBAAQrC,UAAU,MAAlB,mBACdqC,GACC,wBAAQrC,UAAU,MAAMqD,UAAQ,EAAhC,wBAIDzE,GAAS,qBAAKoB,UAAU,QAAf,SAAwBpB,OE/CjC,ICAH0E,EAAe,CACjB9B,SAAU,KACVa,WAAW,EACXzD,MAAO,KACP2E,QAAS,MAGLC,EAAmB,SAACxG,EAAOC,GAC/B,OAAQA,EAAOC,MACb,IAAK,aACH,MAAO,CAAEmF,WAAW,EAAMb,SAAU,KAAM+B,SAAS,EAAO3E,MAAO,MACnE,IAAK,iBACH,MAAO,CAAEyD,WAAW,EAAOb,SAAUvE,EAAOG,QAASmG,SAAS,EAAM3E,MAAO,MAC7E,IAAK,mBACH,MAAO,CAAEyD,WAAW,EAAOb,SAAU,KAAM+B,SAAS,EAAM3E,MAAO,MACnE,IAAK,mBACH,MAAO,CAAEyD,WAAW,EAAOb,SAAUvE,EAAOG,QAASmG,SAAS,EAAM3E,MAAO,MAC7E,IAAK,QACH,MAAO,CAAEyD,WAAW,EAAOb,SAAU,KAAM+B,SAAS,EAAO3E,MAAO3B,EAAOG,SAC3E,QACE,OAAOJ,IAIAyG,EAAe,SAACnF,GAC3B,MAA6Bd,qBAAWgG,EAAkBF,GAA1D,mBAAOI,EAAP,KAAiBjG,EAAjB,KACA,EAAsCgB,oBAAS,GAA/C,mBAAO0D,EAAP,KAAoBC,EAApB,KAGMlD,EAAM7C,EAAiBiC,WAAWA,GAGlCqF,EAAyB,SAAC1G,GACzBkF,GACH1E,EAASR,IAKP2G,EAAW,uCAAG,WAAOlE,GAAP,iBAAA8C,EAAA,6DAClB/E,EAAS,CAAEP,KAAM,eADC,SAIV2G,EAAYlH,EAAUmH,SAAS,IAAIC,MAJzB,SAKY7E,EAAI8E,IAAJ,2BAAatE,GAAb,IAAkBmE,eAL9B,OAKVI,EALU,OAMhBN,EAAuB,CAAEzG,KAAM,iBAAkBE,QAAS6G,IAN1C,gDAShBN,EAAuB,CAAEzG,KAAM,QAASE,QAAS,KAAIyF,UATrC,yDAAH,sDAcXqB,EAAc,uCAAG,WAAOrE,GAAP,SAAA2C,EAAA,6DACrB/E,EAAS,CAAEP,KAAM,eADI,kBAIbgC,EAAIQ,IAAIG,GAAIsE,SAJC,OAKnBR,EAAuB,CAAEzG,KAAM,qBALZ,gDAQnByG,EAAuB,CAAEzG,KAAM,QAASE,QAAS,qBAR9B,yDAAH,sDAadgH,EAAc,uCAAG,WAAOvE,EAAIwE,GAAX,eAAA7B,EAAA,6DACrB/E,EAAS,CAAEP,KAAM,eADI,kBAIUgC,EAAIQ,IAAIG,GAAI8C,OAAO0B,GAJ7B,cAIbD,EAJa,OAKnBT,EAAuB,CAAEzG,KAAM,mBAAoBE,QAASgH,IALzC,kBAMZA,GANY,uCASnBT,EAAuB,CAAEzG,KAAM,QAASE,QAAS,KAAIyF,UATlC,kBAUZ,MAVY,yDAAH,wDAkBpB,OAJAnF,qBAAU,WACR,OAAO,kBAAM0E,GAAe,MAC3B,IAEI,CAAEwB,cAAaM,iBAAgBE,iBAAgBV,aClFzC,SAASY,EAAT,GAAsC,IAAZhE,EAAW,EAAXA,QAC7B4D,EAAmBT,EAAa,YAAhCS,eACA/G,EAASc,IAATd,KACFoH,EAAWC,cAOjB,OACI,gCACI,sBAAKxE,UAAU,kBAAf,UACI,oBAAIA,UAAU,aAAd,SAA4BM,EAAQE,OACpC,oCAAOF,EAAQmE,UAAUC,eACzB,oBAAG1E,UAAU,WAAb,4BACoBM,EAAQG,QAAQC,SAASC,kBAE7C,mBAAGX,UAAU,UAAb,SACKM,EAAQqE,UAEb,yDACA,qBAAK3E,UAAU,iBAAf,SACKM,EAAQM,kBAAkBP,KAAI,SAAAlD,GAAI,OAC/B,8BACI,cAAC,EAAD,CAAQ4C,IAAK5C,EAAK0D,YADZ1D,EAAK0C,YAM1B1C,EAAKwE,MAAQrB,EAAQmE,UAAU5E,IAC5B,wBAAQG,UAAU,MAAMmB,QA1BhB,SAAC6B,GACjBkB,EAAe5D,EAAQT,IACvB0E,EAAS,MAwBD,iC,YC7BD,SAASK,EAAT,GAAuC,IAAZtE,EAAW,EAAXA,QACtC,EAAqCmD,EAAa,YAA1CW,EAAR,EAAQA,eAAgBV,EAAxB,EAAwBA,SACxB,EAAoCjF,mBAAS,IAA7C,mBAAOoG,EAAP,KAAmBC,EAAnB,KACQ3H,EAASc,IAATd,KAEF4H,EAAY,uCAAG,WAAO/B,GAAP,eAAAR,EAAA,6DACjBQ,EAAEC,iBAEI+B,EAAe,CACjBN,YAAavH,EAAKuH,YAClB7D,SAAU1D,EAAK0D,SACfoE,QAASJ,EACThB,UAAWlH,EAAUmH,SAAS,IAAIC,MAClClE,GAAIqF,KAAKC,UARI,SAUXf,EAAe9D,EAAQT,GAAI,CAC7BuF,SAAS,GAAD,mBAAM9E,EAAQ8E,UAAd,CAAwBJ,MAXnB,OAaZtB,EAAS9E,OACVkG,EAAc,IAdD,2CAAH,sDAkBlB,OACI,sBAAK9E,UAAU,mBAAf,UACI,kDAEA,6BACKM,EAAQ8E,SAAShF,OAAS,GAAKE,EAAQ8E,SAAS/E,KAAI,SAAAgF,GAAO,OACxD,+BACI,sBAAKrF,UAAU,iBAAf,UACI,cAAC,EAAD,CAAQD,IAAKsF,EAAQxE,WACrB,4BAAIwE,EAAQX,iBAEhB,qBAAK1E,UAAU,eAAf,SACI,4BAAIsF,YAAoBD,EAAQxB,UAAUnD,SAAU,CAAE6E,WAAW,QAGrE,qBAAKvF,UAAU,mBAAf,SACI,4BAAIqF,EAAQJ,cAVXI,EAAQxF,SAgBzB,uBAAMG,UAAU,cAAc+C,SAAUgC,EAAxC,UACI,kCACI,oDACA,0BACI7B,UAAQ,EACRC,SAAU,SAACH,GAAQ8B,EAAc9B,EAAEI,OAAOpF,QAC1CA,MAAO6G,OAGf,wBAAQ7E,UAAU,MAAlB,+B,MCrDD,SAASwF,IACpB,IACA,EJPuB,SAAClH,EAAYuB,GACpC,MAAgCpB,mBAAS,MAAzC,mBAAO+C,EAAP,KAAiBiE,EAAjB,KACA,EAA0BhH,mBAAS,MAAnC,mBAAOG,EAAP,KAAcC,EAAd,KAuBA,OApBAnB,qBAAU,WACN,IAEM0B,EAFM/C,EAAiBiC,WAAWA,GAAYoB,IAAIG,GAEhCR,YAAW,SAACC,GAC5BA,EAASM,QACT6F,EAAY,2BAAKnG,EAASM,QAAf,IAAuBC,GAAIP,EAASO,MAC/ChB,EAAS,OAGTA,EAAS,8BAEd,SAAC6G,GACA7H,QAAQC,IAAI4H,EAAI7C,SAChBhE,EAAS,6BAGb,OAAO,kBAAMO,OAEd,CAACd,EAAYuB,IAET,CAAE2B,WAAU5C,SIlBS+G,CAAY,WADzBC,cAAP/F,IACAjB,EAAR,EAAQA,MAAO4C,EAAf,EAAeA,SAEf,OAAI5C,EACO,qBAAKoB,UAAU,QAAf,SAAwBpB,IAE9B4C,EAKD,sBAAKxB,UAAU,kBAAf,UACI,cAACsE,EAAD,CAAgBhE,QAASkB,IACzB,cAACoD,EAAD,CAAiBtE,QAASkB,OANvB,qBAAKxB,UAAU,UAAf,wB,MCVA,SAAS6F,IAEtB,MAA0BpH,mBAAS,IAAnC,mBAAOsD,EAAP,KAAcC,EAAd,KACA,EAAgCvD,mBAAS,IAAzC,mBAAOwD,EAAP,KAAiBC,EAAjB,KACA,EAAsCzD,mBAAS,IAA/C,mBAAOiG,EAAP,KAAoBoB,EAApB,KACA,EAAkCrH,mBAAS,MAA3C,mBAAOsH,EAAP,KAAkBC,EAAlB,KACA,EAA4CvH,mBAAS,MAArD,mBAAOwH,EAAP,KAAuBC,EAAvB,KAGA,ECNuB,WACvB,MAAsCzH,oBAAS,GAA/C,mBAAO0D,EAAP,KAAoBC,EAApB,KAEA,EAA0B3D,mBAAS,MAAnC,mBAAOG,EAAP,KAAcC,EAAd,KAEA,EAAkCJ,oBAAS,GAA3C,mBAAO4D,EAAP,KAAkBC,EAAlB,KACQ7E,EAAaQ,IAAbR,SAGF0I,EAAM,uCAAG,WAAOpE,EAAOE,EAAUyC,EAAaqB,GAArC,qBAAAvD,EAAA,6DAEb3D,EAAS,MAETyD,GAAa,GAJA,kBASO/F,EAAY6J,+BAC5BrE,EACAE,GAXS,UASLS,EATK,6BAgBH,IAAItE,MAAM,6BAhBP,cAoBLiI,EApBK,qBAoBsB3D,EAAIvF,KAAKwE,IApB/B,YAoBsCoE,EAAUvF,MApBhD,UAqBO/D,EAAeyC,IAAImH,GAAYC,IAAIP,GArB1C,eAqBLQ,EArBK,iBAsBUA,EAAIrH,IAAIsH,iBAtBlB,eAsBLC,EAtBK,iBAyBL/D,EAAIvF,KAAKuJ,cAAc,CAAEhC,cAAa7D,SAAU4F,IAzB3C,yBA4BLpK,EAAiBiC,WAAW,SAASoB,IAAIgD,EAAIvF,KAAKwE,KAAKgF,IAAI,CAC/D/D,QAAQ,EACR8B,cACA7D,SAAU4F,IA/BD,QAmCXhJ,EAAS,CAAEP,KAAM,QAASE,QAASsF,EAAIvF,OAElCgF,IACHG,GAAa,GACbzD,EAAS,OAvCA,kDA4CNsD,IAEHtD,EAAS,KAAIgE,SAEbP,GAAa,IAhDJ,0DAAH,4DA0DZ,OALA5E,qBAAU,WACR,OAAO,kBAAM0E,GAAe,MAC3B,IAGI,CAAE+D,SAAQvH,QAAOyD,aD7DauE,GAA7BT,EAAR,EAAQA,OAAQ9D,EAAhB,EAAgBA,UAAWzD,EAA3B,EAA2BA,MA8B3B,OAEE,cADA,CACA,QAAMoB,UAAU,YAAY+C,SA9BT,SAACC,GAEpBA,EAAEC,iBACFkD,EAAOpE,EAAOE,EAAUyC,EAAaqB,IA2BrC,UACE,yCACA,kCACE,0CACA,uBACE7C,UAAQ,EACRhG,KAAK,QAELiG,SAAU,SAACH,GAAD,OAAOhB,EAASgB,EAAEI,OAAOpF,QAGnCA,MAAO+D,OAGX,kCACE,6CACA,uBACEmB,UAAQ,EACRhG,KAAK,WACLiG,SAAU,SAACH,GAAD,OAAOd,EAAYc,EAAEI,OAAOpF,QACtCA,MAAOiE,OAGX,kCACE,iDACA,uBACEiB,UAAQ,EACRhG,KAAK,OACLiG,SAAU,SAACH,GAAD,OAAO8C,EAAe9C,EAAEI,OAAOpF,QACzCA,MAAO0G,OAGX,kCACE,sDACA,uBAAOxB,UAAQ,EAAChG,KAAK,OAAOiG,SA1DT,SAACH,GACxBgD,EAAa,MACb,IAAIa,EAAW7D,EAAEI,OAAO0D,MAAM,GAC9BjJ,QAAQC,IAAI+I,GAEPA,EAIAA,EAAS3J,KAAK6J,SAAS,SAIxBF,EAASG,KAAO,IAClBd,EAAkB,4CAIpBA,EAAkB,MAClBF,EAAaa,IATXX,EAAkB,kCAJlBA,EAAkB,2BAqDfD,GAAkB,qBAAKjG,UAAU,QAAf,SAAwBiG,QAG3C5D,GAAa,wBAAQrC,UAAU,MAAlB,qBAEdqC,GACC,wBAAQrC,UAAU,MAAMqD,UAAQ,EAAhC,wBAKDzE,GAAS,qBAAKoB,UAAU,QAAf,SAAwBpB,O,YElFlCqI,G,MAAa,CACjB,CAAEjJ,MAAO,OAAQkJ,MAAO,QACxB,CAAElJ,MAAO,SAAUkJ,MAAO,UAC1B,CAAElJ,MAAO,SAAUkJ,MAAO,UAC1B,CAAElJ,MAAO,UAAWkJ,MAAO,aAGd,SAASC,IACtB,IAAM5C,EAAWC,cACjB,EAAkCf,EAAa,YAAvCG,EAAR,EAAQA,YAAaF,EAArB,EAAqBA,SACbhF,EAAcL,EAAc,SAA5BK,UACR,EAA0BD,mBAAS,IAAnC,mBAAO2I,EAAP,KAAcC,EAAd,KACQlK,EAASc,IAATd,KAER,EAAwBsB,mBAAS,IAAjC,mBAAO+B,EAAP,KAAa8G,EAAb,KACA,EAA8B7I,mBAAS,IAAvC,mBAAOkG,EAAP,KAAgB4C,EAAhB,KACA,EAA8B9I,mBAAS,IAAvC,mBAAOgC,EAAP,KAAgB+G,EAAhB,KACA,EAAgC/I,mBAAS,IAAzC,mBAAOmD,EAAP,KAAiB6F,EAAjB,KACA,EAA0ChJ,mBAAS,IAAnD,mBAAOiJ,EAAP,KAAsBC,EAAtB,KACA,EAAkClJ,mBAAS,MAA3C,mBAAOmJ,EAAP,KAAkBC,EAAlB,KAEAnK,qBAAU,WACR,GAAIgB,EAAW,CACb,IAAMoJ,EAAUpJ,EAAU2B,KAAI,SAAClD,GAC7B,MAAO,CAAEa,MAAOb,EAAM+J,MAAO/J,EAAKuH,gBAEpC2C,EAASS,MAEV,CAACpJ,IAEJ,IAAMqG,EAAY,uCAAG,WAAO/B,GAAP,mBAAAR,EAAA,yDACnBQ,EAAEC,iBACF4E,EAAa,MAERjG,EAJc,uBAKjBiG,EAAa,oCALI,+BAQfH,EAActH,OAAS,GARR,uBASjByH,EAAa,kDATI,iCAabpD,EAAY,CAChBC,YAAavH,EAAKuH,YAClB7D,SAAU1D,EAAK0D,SACfhB,GAAI1C,EAAKwE,KAELf,EAAoB8G,EAAcrH,KAAI,SAACqB,GAC3C,MAAO,CACLgD,YAAahD,EAAE1D,MAAM0G,YACrB7D,SAAUa,EAAE1D,MAAM6C,SAClBhB,GAAI6B,EAAE1D,MAAM6B,OAIVS,EAAU,CACdE,OACAmE,UACA/C,SAAUA,EAAS5D,MACnByC,QAAS9D,EAAUmH,SAAS,IAAIC,KAAKtD,IACrC2E,SAAU,GACVX,YACA7D,qBAjCiB,UAoCbgD,EAAYtD,GApCC,QAqCdoD,EAAS9E,OACZ2F,EAAS,KAtCQ,4CAAH,sDA0ClB,OACE,sBAAKvE,UAAU,cAAf,UACE,oBAAIA,UAAU,aAAd,kCACA,uBAAM+C,SAAUgC,EAAhB,UACE,kCACE,iDACA,uBACE7B,UAAQ,EACRhG,KAAK,OAELiG,SAAU,SAACH,GAAD,OAAOsE,EAAQtE,EAAEI,OAAOpF,QAGlCA,MAAOwC,OAGX,kCACE,oDACA,0BACE0C,UAAQ,EACRhG,KAAK,OACLiG,SAAU,SAACH,GAAD,OAAOuE,EAAWvE,EAAEI,OAAOpF,QACrCA,MAAO2G,OAGX,kCACE,iDACA,uBACEzB,UAAQ,EACRhG,KAAK,OACLiG,SAAU,SAACH,GAAD,OAAOwE,EAAWxE,EAAEI,OAAOpF,QACrCA,MAAOyC,OAGX,kCACE,qDACA,cAAC,IAAD,CACE0C,SAAU,SAAC4E,GAAD,OAAYN,EAAYM,IAClCD,QAASb,OAGb,kCACE,8CACA,cAAC,IAAD,CACE9D,SAAU,SAAC4E,GAAD,OAAYJ,EAAiBI,IACvCD,QAASV,EACTY,SAAO,OAIX,wBAAQhI,UAAU,MAAlB,yBAEC4H,GAAa,mBAAG5H,UAAU,QAAb,SAAsB4H,U,MCnIrC,ICJQ,MAA0B,4CCQ1B,SAASK,IACtB,MFLuB,WACvB,MAAsCxJ,oBAAS,GAA/C,mBAAO0D,EAAP,KAAoBC,EAApB,KACA,EAA0B3D,mBAAS,MAAnC,mBAAOG,EAAP,KAAcC,EAAd,KACA,EAAkCJ,oBAAS,GAA3C,mBAAO4D,EAAP,KAAkBC,EAAlB,KACA,EAA2BrE,IAAnBR,EAAR,EAAQA,SAAUN,EAAlB,EAAkBA,KAEZ+K,EAAM,uCAAG,4BAAA1F,EAAA,6DACb3D,EAAS,MACTyD,GAAa,GAFA,SAOHX,EAAQxE,EAARwE,IAPG,SAQLtF,EAAiBiC,WAAW,SAASoB,IAAIiC,GAAKgB,OAAO,CAAEC,QAAQ,IAR1D,uBAULrG,EAAY4L,UAVP,OAaX1K,EAAS,CAAEP,KAAM,WAGZiF,IACHG,GAAa,GACbzD,EAAS,OAlBA,kDAsBNsD,IACHtD,EAAS,KAAIgE,SACbP,GAAa,IAxBJ,0DAAH,qDAiCZ,OAJA5E,qBAAU,WACR,OAAO,kBAAM0E,GAAe,MAC3B,IAEI,CAAE8F,SAAQtJ,QAAOyD,aElCM+F,GAAtBF,EAAR,EAAQA,OAAQ7F,EAAhB,EAAgBA,UACRlF,EAASc,IAATd,KAER,OACE,qBAAK6C,UAAU,SAAf,SACE,+BACE,qBAAIA,UAAU,OAAd,UACE,qBAAKD,IAAKsI,EAAOpI,IAAI,cACrB,0DAEA9C,GACA,qCACE,6BACE,cAAC,IAAD,CAAMoD,GAAG,SAAT,qBAEF,6BACE,cAAC,IAAD,CAAMA,GAAG,UAAT,yBAILpD,GACC,gCACIkF,GACA,wBAAQrC,UAAU,MAAMmB,QAAS+G,EAAjC,oBAID7F,GACC,wBAAQrC,UAAU,MAAMqD,UAAQ,EAAhC,oC,UCrCC,MAA0B,2CCA1B,MAA0B,qCCS1B,SAASiF,IACpB,IAAQnL,EAASc,IAATd,KAER,OACI,qBAAK6C,UAAU,UAAf,SACI,sBAAKA,UAAU,kBAAf,UACI,sBAAKA,UAAU,OAAf,UACI,cAAC,EAAD,CAAQD,IAAK5C,EAAK0D,WAClB,qCAAQ1D,EAAKuH,kBAEjB,qBAAK1E,UAAU,QAAf,SACI,+BACI,6BACI,eAAC,IAAD,CAASuI,OAAK,EAAChI,GAAG,IAAlB,UACI,qBAAKR,IAAKyI,EAAevI,IAAI,mBAC7B,kDAGR,6BACI,eAAC,IAAD,CAASM,GAAG,UAAZ,UACI,qBAAKR,IAAK0I,EAASxI,IAAI,qBACvB,8D,MCtBjB,SAASyI,IACpB,MAA6BrK,EAAc,SAAnCO,EAAR,EAAQA,MAAOF,EAAf,EAAeA,UAEf,OACI,sBAAKsB,UAAU,YAAf,UACI,2CACCpB,GAAS,qBAAKoB,UAAU,QAAf,SAAwBpB,IACjCF,GAAaA,EAAU2B,KAAI,SAAAlD,GAAI,OAC5B,sBAAK6C,UAAU,iBAAf,UACK7C,EAAKyF,QAAU,sBAAM5C,UAAU,gBAChC,+BAAO7C,EAAKuH,cACZ,cAAC,EAAD,CAAQ3E,IAAK5C,EAAK0D,aAHe1D,EAAK0C,UCyC3C8I,MAzCf,WACE,MAA8B1K,IAAtBd,EAAR,EAAQA,KAAME,EAAd,EAAcA,YAEd,OACE,qBAAK2C,UAAU,MAAf,SACG3C,GACC,eAAC,IAAD,WACGF,GAAQ,cAAC,EAAD,IACT,sBAAK6C,UAAU,YAAf,UACE,cAAC,EAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CACE4I,KAAK,IACLC,QAAS1L,EAAO,cAAC,EAAD,IAAgB,cAAC,IAAD,CAAUoD,GAAG,YAE/C,cAAC,IAAD,CACEqI,KAAK,UACLC,QAAS1L,EAAO,cAAC,EAAD,IAAa,cAAC,IAAD,CAAUoD,GAAG,aAE5C,cAAC,IAAD,CACEqI,KAAK,gBACLC,QAAS1L,EAAO,cAAC,EAAD,IAAc,cAAC,IAAD,CAAUoD,GAAG,aAE7C,cAAC,IAAD,CACEqI,KAAK,SACLC,QAAS1L,EAAO,cAAC,IAAD,CAAUoD,GAAG,MAAS,cAAC,EAAD,MAExC,cAAC,IAAD,CACEqI,KAAK,UACLC,QAAS1L,EAAO,cAAC,IAAD,CAAUoD,GAAG,MAAS,cAAC,EAAD,YAI3CpD,GAAQ,cAAC,EAAD,UC1CnB2L,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,UACE,cAAC,EAAD,QAGJxH,SAASyH,eAAe,W","file":"static/js/main.af6b6a74.chunk.js","sourcesContent":["import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\nimport 'firebase/storage';\n\n// In this project I am using Firebase version 8.5. Version 9 is available now and will be used for future projects\n// We copy this from Firebase, when creating the new project\nconst firebaseConfig = {\n  apiKey: 'AIzaSyD42NaDko8kSDozXRHS1Lz-L_2_DQW0S8M',\n  authDomain: 'thedojosite-fe490.firebaseapp.com',\n  projectId: 'thedojosite-fe490',\n  storageBucket: 'thedojosite-fe490.appspot.com',\n  messagingSenderId: '620817143562',\n  appId: '1:620817143562:web:282e0aa5bf5b8fbcd08cf3',\n};\n\n// Init firebase\nfirebase.initializeApp(firebaseConfig);\n\n// Init services\nconst projectFirestore = firebase.firestore();\nconst projectAuth = firebase.auth();\nconst projectStorage = firebase.storage();\n\n// Timestamp\nconst timestamp = firebase.firestore.Timestamp;\n\nexport { projectFirestore, projectAuth, projectStorage, timestamp };\n","import { createContext, useReducer, useEffect } from 'react';\nimport { projectAuth } from '../firebase/config';\n\n// Here we create a new context. This to allow us to have access to the user data in the whole app (to be used in different components)\nexport const AuthContext = createContext();\n\nexport const authReducer = (state, action) => {\n  switch (action.type) {\n    case 'LOGIN':\n      return { ...state, user: action.payload };\n    case 'LOGOUT':\n      return { ...state, user: null };\n    case 'AUTH_IS_READY':\n      return { user: action.payload, authIsReady: true };\n    default:\n      return state;\n  }\n};\n\n// The children represents whatever this context is going to wrap in the future (in our case it will be the app components: the whole application)\nexport const AuthContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(authReducer, {\n    user: null,\n    authIsReady: false,\n  });\n\n  useEffect(() => {\n    const unsub = projectAuth.onAuthStateChanged((user) => {\n      dispatch({ type: 'AUTH_IS_READY', payload: user });\n      unsub();\n    });\n  }, []);\n\n  console.log('AuthContext state:', state);\n\n  return (\n    <AuthContext.Provider value={{ ...state, dispatch }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n","import { AuthContext } from \"../context/AuthContext\"\nimport { useContext } from \"react\"\n\nexport const useAuthContext = () => {\n  const context = useContext(AuthContext)\n\n  if(!context) {\n    throw Error('useAuthContext must be used inside an AuthContextProvider')\n  }\n\n  return context\n}","import { useEffect, useState, useRef } from \"react\"\nimport { projectFirestore } from \"../firebase/config\"\n\nexport const useCollection = (collection, _query, _orderBy) => {\n  const [documents, setDocuments] = useState(null)\n  const [error, setError] = useState(null)\n\n  // if we don't use a ref --> infinite loop in useEffect\n  // _query is an array and is \"different\" on every function call\n  const query = useRef(_query).current\n  const orderBy = useRef(_orderBy).current\n\n  useEffect(() => {\n    let ref = projectFirestore.collection(collection)\n\n    if (query) {\n      ref = ref.where(...query)\n    }\n    if (orderBy) {\n      ref = ref.orderBy(...orderBy)\n    }\n\n    const unsubscribe = ref.onSnapshot(snapshot => {\n      let results = []\n      snapshot.docs.forEach(doc => {\n        results.push({...doc.data(), id: doc.id})\n      });\n      \n      // update state\n      setDocuments(results)\n      setError(null)\n    }, error => {\n      console.log(error)\n      setError('could not fetch the data')\n    })\n\n    // unsubscribe on unmount\n    return () => unsubscribe()\n\n  }, [collection, query, orderBy])\n\n  return { documents, error }\n}","// Styles\nimport './Avatar.css';\n\n// Here we create a custom avatar component which receives the source of the avatar as a parameter\nexport default function Avatar({ src }) {\n  return (\n    <div className='avatar'>\n      <img src={src} alt='user avatar' />\n    </div>\n  );\n}\n","import { Link } from 'react-router-dom'\nimport Avatar from './Avatar'\n\n// Styles\nimport './ProjectList.css'\n\nexport default function ProjectList({ projects }) {\n    return (\n        <div className='project-list'>\n            {projects.length === 0 && <p>No projects yet!</p>}\n            {projects.map(project => (\n                <Link to={`/projects/${project.id}`} key={project.id}>\n                    <h4>{project.name}</h4>\n                    <p>Due by {project.dueDate.toDate().toDateString()}</p>\n                    <div className=\"assigned-to\">\n                        <ul>\n                            {project.assignedUsersList.map(user => (\n                                <li key={user.photoURL}>\n                                    <Avatar src={user.photoURL} />\n                                </li>\n                            ))}\n                        </ul>\n                    </div>\n                </Link>\n            ))}\n        </div>\n    )\n}\n","const filterList = ['all', 'mine', 'home', 'travel', 'doctor', 'leisure']\n\nexport default function ProjectFilter({ currentFilter, changeFilter }) {\n    const handleClick = (newFilter) => {\n        changeFilter(newFilter)\n    }\n\n    return (\n        <div className=\"project-filter\">\n            <nav>\n                <p>Filter by:</p>\n                {filterList.map((f) => (\n                    <button key={f}\n                        onClick={() => handleClick(f)}\n                        className={currentFilter === f ? 'active' : ''}>\n                        {f}\n                    </button>\n                ))}\n            </nav>\n        </div>\n    )\n}\n","import { useCollection } from '../../hooks/useCollection'\nimport ProjectList from '../../components/ProjectList'\nimport ProjectFilter from './ProjectFilter'\nimport { useState } from 'react'\nimport { useAuthContext } from '../../hooks/useAuthContext'\n\n// Styles\nimport './Dashboard.css'\n\nexport default function Dashboard() {\n    const { user } = useAuthContext()\n    const { documents, error } = useCollection('projects')\n    const [currentFilter, setCurrentFilter] = useState('all')\n\n    const changeFilter = (newFilter) => {\n        setCurrentFilter(newFilter)\n    }\n\n    const filteredProjects = documents ? documents.filter((document) => {\n        switch (currentFilter) {\n            case 'all':\n                return true\n            case 'mine':\n                let assignedToMe = false\n                document.assignedUsersList.forEach((u) => {\n                    if (user.uid === u.id) {\n                        assignedToMe = true\n                    }\n                })\n                return assignedToMe\n            case 'home':\n            case 'travel':\n            case 'doctor':\n            case 'leisure':\n                return document.category === currentFilter\n            default:\n                return true\n        }\n    }) : null\n\n    return (\n        <div>\n            <h2 className=\"page-title\">Dashboard</h2>\n            {error && <p className='error'>{error}</p>}\n            {documents && (\n                <ProjectFilter currentFilter={currentFilter} changeFilter={changeFilter} />\n            )}\n            {filteredProjects && <ProjectList projects={filteredProjects} />}\n        </div>\n    )\n}\n","import { useState } from 'react';\nimport { useLogin } from '../../hooks/useLogin';\n\n// Styles\nimport './Login.css';\n\nexport default function Login() {\n  // We create state to store the login required data\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  //\n  const { login, isPending, error } = useLogin();\n\n  const handleSubmit = (e) => {\n    // We prevent the default action of the page: reloading\n    e.preventDefault();\n    login(email, password);\n  };\n\n  return (\n    // On submiting the form we fire the handleSubmit function\n    <form className='auth-form' onSubmit={handleSubmit}>\n      <h2>Login</h2>\n      <label>\n        <span>Email:</span>\n        <input\n          required\n          type='email'\n          // OnChange we set the state to be the input value\n          onChange={(e) => setEmail(e.target.value)}\n          // We also set the value to whatever the state is. Like this we have 2 way binding:\n          // If we would change the state from outside of the input. Then the value inside the input would reflect that change (for example when we reset the form)\n          value={email}\n        />\n      </label>\n      <label>\n        <span>Password:</span>\n        <input\n          required\n          type='password'\n          onChange={(e) => setPassword(e.target.value)}\n          value={password}\n        />\n      </label>\n      {!isPending && <button className='btn'>Login</button>}\n      {isPending && (\n        <button className='btn' disabled>\n          Loading...\n        </button>\n      )}\n      {error && <div className='error'>{error}</div>}\n    </form>\n  );\n}\n","import { useState, useEffect } from 'react'\nimport { projectAuth, projectFirestore } from '../firebase/config'\nimport { useAuthContext } from './useAuthContext'\n\nexport const useLogin = () => {\n  const [isCancelled, setIsCancelled] = useState(false)\n  const [error, setError] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n  const { dispatch } = useAuthContext()\n\n  const login = async (email, password) => {\n    setError(null)\n    setIsPending(true)\n\n    try {\n      // login\n      const res = await projectAuth.signInWithEmailAndPassword(email, password)\n\n      // update online status\n      await projectFirestore.collection('users').doc(res.user.uid).update({ online: true })\n\n      // dispatch login action\n      dispatch({ type: 'LOGIN', payload: res.user })\n\n      if (!isCancelled) {\n        setIsPending(false)\n        setError(null)\n      }\n    }\n    catch (err) {\n      if (!isCancelled) {\n        setError(err.message)\n        setIsPending(false)\n      }\n    }\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true)\n  }, [])\n\n  return { login, isPending, error }\n}","import { useEffect, useState } from \"react\"\nimport { projectFirestore } from '../firebase/config'\n\nexport const useDocument = (collection, id) => {\n    const [document, setDocument] = useState(null)\n    const [error, setError] = useState(null)\n\n    // Realtime data for the document\n    useEffect(() => {\n        const ref = projectFirestore.collection(collection).doc(id)\n\n        const unsubscribe = ref.onSnapshot((snapshot) => {\n            if (snapshot.data()) {\n                setDocument({ ...snapshot.data(), id: snapshot.id })\n                setError(null)\n            }\n            else {\n                setError('No such document exists')\n            }\n        }, (err) => {\n            console.log(err.message)\n            setError('Failed to get document')\n        })\n\n        return () => unsubscribe()\n\n    }, [collection, id])\n\n    return { document, error }\n}","import { useReducer, useEffect, useState } from \"react\"\nimport { projectFirestore, timestamp } from \"../firebase/config\"\n\nlet initialState = {\n  document: null,\n  isPending: false,\n  error: null,\n  success: null\n}\n\nconst firestoreReducer = (state, action) => {\n  switch (action.type) {\n    case 'IS_PENDING':\n      return { isPending: true, document: null, success: false, error: null }\n    case 'ADDED_DOCUMENT':\n      return { isPending: false, document: action.payload, success: true, error: null }\n    case 'DELETED_DOCUMENT':\n      return { isPending: false, document: null, success: true, error: null }\n    case 'UPDATED_DOCUMENT':\n      return { isPending: false, document: action.payload, success: true, error: null }\n    case 'ERROR':\n      return { isPending: false, document: null, success: false, error: action.payload }\n    default:\n      return state\n  }\n}\n\nexport const useFirestore = (collection) => {\n  const [response, dispatch] = useReducer(firestoreReducer, initialState)\n  const [isCancelled, setIsCancelled] = useState(false)\n\n  // collection ref\n  const ref = projectFirestore.collection(collection)\n\n  // only dispatch is not cancelled\n  const dispatchIfNotCancelled = (action) => {\n    if (!isCancelled) {\n      dispatch(action)\n    }\n  }\n\n  // add a document\n  const addDocument = async (doc) => {\n    dispatch({ type: 'IS_PENDING' })\n\n    try {\n      const createdAt = timestamp.fromDate(new Date())\n      const addedDocument = await ref.add({ ...doc, createdAt })\n      dispatchIfNotCancelled({ type: 'ADDED_DOCUMENT', payload: addedDocument })\n    }\n    catch (err) {\n      dispatchIfNotCancelled({ type: 'ERROR', payload: err.message })\n    }\n  }\n\n  // delete a document\n  const deleteDocument = async (id) => {\n    dispatch({ type: 'IS_PENDING' })\n\n    try {\n      await ref.doc(id).delete()\n      dispatchIfNotCancelled({ type: 'DELETED_DOCUMENT' })\n    }\n    catch (err) {\n      dispatchIfNotCancelled({ type: 'ERROR', payload: 'could not delete' })\n    }\n  }\n\n  // update documents\n  const updateDocument = async (id, updates) => {\n    dispatch({ type: 'IS_PENDING' })\n\n    try {\n      const updateDocument = await ref.doc(id).update(updates)\n      dispatchIfNotCancelled({ type: 'UPDATED_DOCUMENT', payload: updateDocument })\n      return updateDocument\n    }\n    catch (err) {\n      dispatchIfNotCancelled({ type: 'ERROR', payload: err.message })\n      return null\n    }\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true)\n  }, [])\n\n  return { addDocument, deleteDocument, updateDocument, response }\n\n}\n","import Avatar from '../../components/Avatar'\nimport { useFirestore } from '../../hooks/useFirestore'\nimport { useAuthContext } from '../../hooks/useAuthContext'\nimport { useNavigate } from 'react-router-dom'\n\nexport default function ProjectSummary({ project }) {\n    const { deleteDocument } = useFirestore('projects')\n    const { user } = useAuthContext()\n    const navigate = useNavigate()\n\n    const handleClick = (e) => {\n        deleteDocument(project.id)\n        navigate('/')\n    }\n\n    return (\n        <div>\n            <div className=\"project-summary\">\n                <h2 className=\"page-title\">{project.name}</h2>\n                <p>By {project.createdBy.displayName}</p>\n                <p className=\"due-date\">\n                    Project due by {project.dueDate.toDate().toDateString()}\n                </p>\n                <p className=\"details\">\n                    {project.details}\n                </p>\n                <h4>Project is assigned to:</h4>\n                <div className=\"assigned-users\">\n                    {project.assignedUsersList.map(user => (\n                        <div key={user.id}>\n                            <Avatar src={user.photoURL} />\n                        </div>\n                    ))}\n                </div>\n            </div>\n            {user.uid === project.createdBy.id && (\n                <button className=\"btn\" onClick={handleClick}>Mark as complete</button>\n            )}\n        </div>\n    )\n}\n","import { useState } from \"react\"\nimport Avatar from \"../../components/Avatar\"\nimport { timestamp } from \"../../firebase/config\"\nimport { useAuthContext } from \"../../hooks/useAuthContext\"\nimport { useFirestore } from \"../../hooks/useFirestore\"\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow'\n\nexport default function ProjectComments({ project }) {\n    const { updateDocument, response } = useFirestore('projects')\n    const [newComment, setNewComment] = useState('')\n    const { user } = useAuthContext()\n\n    const handleSubmit = async (e) => {\n        e.preventDefault()\n\n        const commentToAdd = {\n            displayName: user.displayName,\n            photoURL: user.photoURL,\n            content: newComment,\n            createdAt: timestamp.fromDate(new Date()),\n            id: Math.random()\n        }\n        await updateDocument(project.id, {\n            comments: [...project.comments, commentToAdd]\n        })\n        if (!response.error) {\n            setNewComment('')\n        }\n    }\n\n    return (\n        <div className=\"project-comments\">\n            <h4>Project Comments</h4>\n\n            <ul>\n                {project.comments.length > 0 && project.comments.map(comment => (\n                    <li key={comment.id}>\n                        <div className=\"comment-author\">\n                            <Avatar src={comment.photoURL} />\n                            <p>{comment.displayName}</p>\n                        </div>\n                        <div className=\"comment-date\">\n                            <p>{formatDistanceToNow(comment.createdAt.toDate(), { addSuffix: true })}\n                            </p>\n                        </div>\n                        <div className=\"comments-content\">\n                            <p>{comment.content}</p>\n                        </div>\n                    </li>\n                ))}\n            </ul>\n\n            <form className=\"add-comment\" onSubmit={handleSubmit}>\n                <label>\n                    <span>Add new comment:</span>\n                    <textarea\n                        required\n                        onChange={(e) => { setNewComment(e.target.value) }}\n                        value={newComment}\n                    ></textarea>\n                </label>\n                <button className=\"btn\">Add comment</button>\n            </form>\n        </div>\n    )\n}\n","import { useParams } from 'react-router-dom'\nimport { useDocument } from '../../hooks/useDocument'\nimport ProjectSummary from './ProjectSummary'\nimport ProjectComments from './ProjectComments'\n\n// Styles\nimport './Project.css'\n\nexport default function Project() {\n    const { id } = useParams()\n    const { error, document } = useDocument('projects', id)\n\n    if (error) {\n        return <div className=\"error\">{error}</div>\n    }\n    if (!document) {\n        return <div className='loading'>Loading...</div>\n    }\n\n    return (\n        <div className='project-details'>\n            <ProjectSummary project={document} />\n            <ProjectComments project={document} />\n        </div>\n    )\n}\n","import { useState } from 'react';\nimport { useSignup } from '../../hooks/useSignup';\n\n// Styles\nimport './Signup.css';\n\nexport default function Signup() {\n  // We create state to store the signup required data\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [displayName, setDisplayName] = useState('');\n  const [thumbnail, setThumbnail] = useState(null);\n  const [thumbnailError, setThumbnailError] = useState(null);\n\n  // We destructure the different things that we want from this hook\n  const { signup, isPending, error } = useSignup();\n\n  const handleSubmit = (e) => {\n    // We prevent the default action of the page: reloading\n    e.preventDefault();\n    signup(email, password, displayName, thumbnail);\n  };\n\n  const handleFileChange = (e) => {\n    setThumbnail(null);\n    let selected = e.target.files[0];\n    console.log(selected);\n\n    if (!selected) {\n      setThumbnailError('Please select a file');\n      return;\n    }\n    if (!selected.type.includes('image')) {\n      setThumbnailError('Selected file must be an image');\n      return;\n    }\n    if (selected.size > 100000) {\n      setThumbnailError('Image file size must be less than 100kb');\n      return;\n    }\n\n    setThumbnailError(null);\n    setThumbnail(selected);\n  };\n\n  return (\n    // On submiting the form we fire the handleSubmit function\n    <form className='auth-form' onSubmit={handleSubmit}>\n      <h2>Sign up</h2>\n      <label>\n        <span>Email:</span>\n        <input\n          required\n          type='email'\n          // OnChange we set the state to be the input value\n          onChange={(e) => setEmail(e.target.value)}\n          // We also set the value to whatever the state is. Like this we have 2 way binding:\n          // If we would change the state from outside of the input. Then the value inside the input would reflect that change (for example when we reset the form)\n          value={email}\n        />\n      </label>\n      <label>\n        <span>Password:</span>\n        <input\n          required\n          type='password'\n          onChange={(e) => setPassword(e.target.value)}\n          value={password}\n        />\n      </label>\n      <label>\n        <span>Display name:</span>\n        <input\n          required\n          type='text'\n          onChange={(e) => setDisplayName(e.target.value)}\n          value={displayName}\n        />\n      </label>\n      <label>\n        <span>Profile thumbnail:</span>\n        <input required type='file' onChange={handleFileChange} />\n        {thumbnailError && <div className='error'>{thumbnailError}</div>}\n      </label>\n      {/* If the signUp hook is not loading anything we display the normal submit button to submit the signUp form */}\n      {!isPending && <button className='btn'>Sign up</button>}\n      {/* If the signUp hook is loading we display a same styled button but that is disabled and with text \"loading...\" so the user cannot click it until we finish loading */}\n      {isPending && (\n        <button className='btn' disabled>\n          Loading...\n        </button>\n      )}\n      {/* If we get an error from the signUp hook we display this eror is a div with the styling we use for errors */}\n      {error && <div className='error'>{error}</div>}\n    </form>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport {\n  projectAuth,\n  projectStorage,\n  projectFirestore,\n} from '../firebase/config';\nimport { useAuthContext } from './useAuthContext';\n\n// We export the signUp hook which will be used whenever we need to sign a new user up in our app\nexport const useSignup = () => {\n  const [isCancelled, setIsCancelled] = useState(false);\n  // The error is set to be null at the beggining and will be changed in case there is an error\n  const [error, setError] = useState(null);\n  // The same with isPending: it is false to begin with and will be changed to true if the page is loading for example\n  const [isPending, setIsPending] = useState(false);\n  const { dispatch } = useAuthContext();\n\n  // When users submit the signUp form in the Signup component this function will be fired\n  const signup = async (email, password, displayName, thumbnail) => {\n    // We set the error to null again just in case the user had an issue when signing in and he tries again. So that he can start from when there was no error\n    setError(null);\n    // We set isPending to be true\n    setIsPending(true);\n\n    // We try to signUp the user\n    try {\n      // This reaches out to firebase auth and tries to signUp that user with the provided email and password and it sends us back a response\n      const res = await projectAuth.createUserWithEmailAndPassword(\n        email,\n        password\n      );\n\n      // If we dont get a response when throw a new error\n      if (!res) {\n        throw new Error('Could not complete signup');\n      }\n\n      // Upload user thumbnail\n      const uploadPath = `thumbnails/${res.user.uid}/${thumbnail.name}`;\n      const img = await projectStorage.ref(uploadPath).put(thumbnail);\n      const imgUrl = await img.ref.getDownloadURL();\n\n      // Add display name and avatar to user\n      await res.user.updateProfile({ displayName, photoURL: imgUrl });\n\n      // create an user document\n      await projectFirestore.collection('users').doc(res.user.uid).set({\n        online: true,\n        displayName,\n        photoURL: imgUrl,\n      });\n\n      // dispatch login action\n      dispatch({ type: 'LOGIN', payload: res.user });\n\n      if (!isCancelled) {\n        setIsPending(false);\n        setError(null);\n      }\n\n      // If the signUp fails we catch the error\n    } catch (err) {\n      if (!isCancelled) {\n        // We set the error to whatever the error was so that we can then show it to the user (for Example invalid email)\n        setError(err.message);\n        // We set isPending again to false as the page ended loading\n        setIsPending(false);\n      }\n    }\n  };\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, []);\n\n  // We return the signup function, error state and isPending state to be used in other components if needed\n  return { signup, error, isPending };\n};\n","import { useEffect, useState } from 'react';\nimport Select from 'react-select';\nimport { useCollection } from '../../hooks/useCollection';\nimport { timestamp } from '../../firebase/config';\nimport { useAuthContext } from '../../hooks/useAuthContext';\nimport { useFirestore } from '../../hooks/useFirestore';\nimport { useNavigate } from 'react-router-dom';\n\n// Styles\nimport './Create.css';\n\nconst categories = [\n  { value: 'home', label: 'Home' },\n  { value: 'travel', label: 'Travel' },\n  { value: 'doctor', label: 'Doctor' },\n  { value: 'leisure', label: 'Leisure' },\n];\n\nexport default function Create() {\n  const navigate = useNavigate();\n  const { addDocument, response } = useFirestore('projects');\n  const { documents } = useCollection('users');\n  const [users, setUsers] = useState([]);\n  const { user } = useAuthContext();\n\n  const [name, setName] = useState('');\n  const [details, setDetails] = useState('');\n  const [dueDate, setDueDate] = useState('');\n  const [category, setCategory] = useState('');\n  const [assignedUsers, setAssignedUsers] = useState([]);\n  const [formError, setFormError] = useState(null);\n\n  useEffect(() => {\n    if (documents) {\n      const options = documents.map((user) => {\n        return { value: user, label: user.displayName };\n      });\n      setUsers(options);\n    }\n  }, [documents]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setFormError(null);\n\n    if (!category) {\n      setFormError('Please select a project category');\n      return;\n    }\n    if (assignedUsers.length < 1) {\n      setFormError('Please assign the project to at least one user');\n      return;\n    }\n\n    const createdBy = {\n      displayName: user.displayName,\n      photoURL: user.photoURL,\n      id: user.uid,\n    };\n    const assignedUsersList = assignedUsers.map((u) => {\n      return {\n        displayName: u.value.displayName,\n        photoURL: u.value.photoURL,\n        id: u.value.id,\n      };\n    });\n\n    const project = {\n      name,\n      details,\n      category: category.value,\n      dueDate: timestamp.fromDate(new Date(dueDate)),\n      comments: [],\n      createdBy,\n      assignedUsersList,\n    };\n\n    await addDocument(project);\n    if (!response.error) {\n      navigate('/');\n    }\n  };\n\n  return (\n    <div className='create-form'>\n      <h2 className='page-title'>Create a new project</h2>\n      <form onSubmit={handleSubmit}>\n        <label>\n          <span>Project name:</span>\n          <input\n            required\n            type='text'\n            // OnChange we set the state to be the input value\n            onChange={(e) => setName(e.target.value)}\n            // We also set the value to whatever the state is. Like this we have 2 way binding:\n            // If we would change the state from outside of the input. Then the value inside the input would reflect that change (for example when we reset the form)\n            value={name}\n          />\n        </label>\n        <label>\n          <span>Project details:</span>\n          <textarea\n            required\n            type='text'\n            onChange={(e) => setDetails(e.target.value)}\n            value={details}\n          ></textarea>\n        </label>\n        <label>\n          <span>Set due date:</span>\n          <input\n            required\n            type='date'\n            onChange={(e) => setDueDate(e.target.value)}\n            value={dueDate}\n          />\n        </label>\n        <label>\n          <span>Project category:</span>\n          <Select\n            onChange={(option) => setCategory(option)}\n            options={categories}\n          />\n        </label>\n        <label>\n          <span>Assign to:</span>\n          <Select\n            onChange={(option) => setAssignedUsers(option)}\n            options={users}\n            isMulti\n          />\n        </label>\n\n        <button className='btn'>Add Project</button>\n\n        {formError && <p className='error'>{formError}</p>}\n      </form>\n    </div>\n  );\n}\n","import { useEffect, useState } from 'react'\nimport { projectAuth, projectFirestore } from '../firebase/config'\nimport { useAuthContext } from './useAuthContext'\n\nexport const useLogout = () => {\n  const [isCancelled, setIsCancelled] = useState(false)\n  const [error, setError] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n  const { dispatch, user } = useAuthContext()\n\n  const logout = async () => {\n    setError(null)\n    setIsPending(true)\n\n    // sign the user out\n    try {\n      // update online status\n      const { uid } = user\n      await projectFirestore.collection('users').doc(uid).update({ online: false })\n\n      await projectAuth.signOut()\n\n      // dispatch logout action\n      dispatch({ type: 'LOGOUT' })\n\n      // update state\n      if (!isCancelled) {\n        setIsPending(false)\n        setError(null)\n      }\n    }\n    catch (err) {\n      if (!isCancelled) {\n        setError(err.message)\n        setIsPending(false)\n      }\n    }\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true)\n  }, [])\n\n  return { logout, error, isPending }\n}","export default __webpack_public_path__ + \"static/media/ms-icon-144x144.7ed4712c.png\";","import { Link } from 'react-router-dom';\nimport { useLogout } from '../hooks/useLogout';\nimport { useAuthContext } from '../hooks/useAuthContext';\n\n// Styles & images\nimport './Navbar.css';\nimport House from '../assets/ms-icon-144x144.png';\n\nexport default function Navbar() {\n  const { logout, isPending } = useLogout();\n  const { user } = useAuthContext();\n\n  return (\n    <div className='navbar'>\n      <ul>\n        <li className='logo'>\n          <img src={House} alt='dojo logo' />\n          <span>Home Tasks Manager</span>\n        </li>\n        {!user && (\n          <>\n            <li>\n              <Link to='/login'>Login</Link>\n            </li>\n            <li>\n              <Link to='/signup'>Signup</Link>\n            </li>\n          </>\n        )}\n        {user && (\n          <li>\n            {!isPending && (\n              <button className='btn' onClick={logout}>\n                Logout\n              </button>\n            )}\n            {isPending && (\n              <button className='btn' disabled>\n                Logging out...\n              </button>\n            )}\n          </li>\n        )}\n      </ul>\n    </div>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/dashboard_icon.bc800f3b.svg\";","export default __webpack_public_path__ + \"static/media/add_icon.376e9b6a.svg\";","import { NavLink } from 'react-router-dom'\nimport Avatar from './Avatar'\nimport { useAuthContext } from '../hooks/useAuthContext'\n\n// Styles & images\nimport './Sidebar.css'\nimport DashboardIcon from '../assets/dashboard_icon.svg'\nimport AddIcon from '../assets/add_icon.svg'\n\nexport default function Sidebar() {\n    const { user } = useAuthContext()\n\n    return (\n        <div className='sidebar'>\n            <div className=\"sidebar-content\">\n                <div className=\"user\">\n                    <Avatar src={user.photoURL} />\n                    <p>Hey {user.displayName}</p>\n                </div>\n                <nav className=\"links\">\n                    <ul>\n                        <li>\n                            <NavLink exact to=\"/\">\n                                <img src={DashboardIcon} alt=\"dashboard icon\" />\n                                <span>Dashboard</span>\n                            </NavLink>\n                        </li>\n                        <li>\n                            <NavLink to=\"/create\">\n                                <img src={AddIcon} alt=\"add project icon\" />\n                                <span>New Project</span>\n                            </NavLink>\n                        </li>\n                    </ul>\n                </nav>\n            </div>\n        </div>\n    )\n}\n","import { useCollection } from '../hooks/useCollection'\n\n// Components\nimport Avatar from './Avatar'\n\n// Styles\nimport './OnlineUsers.css'\n\nexport default function OnlineUsers() {\n    const { error, documents } = useCollection('users')\n\n    return (\n        <div className='user-list'>\n            <h2>All Users</h2>\n            {error && <div className='error'>{error}</div>}\n            {documents && documents.map(user => (\n                <div className='user-list-item' key={user.id}>\n                    {user.online && <span className='online-user'></span>}\n                    <span>{user.displayName}</span>\n                    <Avatar src={user.photoURL} />\n                </div>\n            ))}\n        </div>\n    )\n}\n","import { BrowserRouter, Route, Routes, Navigate } from 'react-router-dom';\nimport { useAuthContext } from './hooks/useAuthContext';\n\n// Styles\nimport './App.css'\n\n// Pages and components\nimport Dashboard from './pages/dashboard/Dashboard'\nimport Login from './pages/login/Login'\nimport Project from './pages/project/Project'\nimport Signup from './pages/signup/Signup'\nimport Create from './pages/create/Create'\nimport Navbar from './components/Navbar';\nimport Sidebar from './components/Sidebar';\nimport OnlineUsers from './components/OnlineUsers';\n\nfunction App() {\n  const { user, authIsReady } = useAuthContext()\n\n  return (\n    <div className=\"App\">\n      {authIsReady && (\n        <BrowserRouter>\n          {user && <Sidebar />}\n          <div className=\"container\">\n            <Navbar />\n            <Routes>\n              <Route\n                path=\"/\"\n                element={user ? <Dashboard /> : <Navigate to=\"login\" />}\n              />\n              <Route\n                path=\"/create\"\n                element={user ? <Create /> : <Navigate to=\"/login\" />}\n              />\n              <Route\n                path=\"/projects/:id\"\n                element={user ? <Project /> : <Navigate to=\"/login\" />}\n              />\n              <Route\n                path=\"/login\"\n                element={user ? <Navigate to=\"/\" /> : <Login />}\n              />\n              <Route\n                path=\"/signup\"\n                element={user ? <Navigate to=\"/\" /> : <Signup />}\n              />\n            </Routes>\n          </div>\n          {user && <OnlineUsers />}\n        </BrowserRouter>\n      )\n      }\n    </div >\n  );\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { AuthContextProvider } from './context/AuthContext';\n\n// The auth context provider wraps the whole app so that we have access to the authentication data wherever we need it in the app\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}